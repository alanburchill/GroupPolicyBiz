---
title: "How to use Group Policy to configure Windows 7 Logon UI Background Wallpaper"
date: 2011-04-06 13:00:00
author: admin
categories: ["Best Practice", "Tutorials"]
tags: ["Background", "Intermediate", "Login", "logon"]
featured_image: "https://www.grouppolicy.biz/wp-content/uploads/2011/04/image6a1.png"
---

Since I posted my [Best Practice: Using Group Policy to configure Desktop Wallpaper ("Background")](<https://www.grouppolicy.biz/2011/03/best-practice-using-group-policy-to-configure-desktop-wallpaper-background/>) a few of you have asked for me to do a post showing how to configure the Windows 7 Logon UI Background wallpaper. So below I have outlined the steps (with tips) showing you how to deploy and enabled a Logon UI background wallpaper to your fleet of Windows 7 computers. Unlike the normal Background option the Logon UI Background is only show when the computer is not logged on or when it is locked. While I know some of you might loath having to set a wallpaper for your users computers as like myself you like to have the freedom to change this setting. This may be a much nicer balance for your user and management as you can still have your corporate branding applied to your computers but still allow the users to have their own custom background image when they are logged on.

**Tip #1:**  Before you you start I would check out the WithinWindows article that goes into more details on how this option is configured at [WithInWindows: Windows 7 to officially support logon ui background customization](<http://www.withinwindows.com/2009/03/15/windows-7-to-officially-support-logon-ui-background-customization/>) . Essential we have to do three things; 1. create a local the folder for the background image; 2. copy the background image to the local folder and; 3. enable the registry key to show the background image. **Step 1.** Edit a Group Policy Object that is applied to the machines that you want to make this change on. Then use the [Folders Extension](<http://technet.microsoft.com/en-us/library/cc726070.aspx>) to create the path "%WindowsDir%\System32\oobe\info\backgrounds". [![image6a](https://www.grouppolicy.biz/wp-content/uploads/2011/04/image6a1.png)](<https://www.grouppolicy.biz/wp-content/uploads/2011/04/image6a1.png>) **Explanation:**  This is done to create the folders that we will place the Login background image as this is normally not created OOB. **Note:** That even thought the "Info" folder is not explicitly created the fact that it is part of the path it will also implicitly be created. **Step 2.** In the same Group Policy Object use the [File Extension](<http://technet.microsoft.com/en-us/library/cc771102.aspx>) to copy a background image (e.g. backgroundDefault.jpg) to the path that was created above. [![image](https://www.grouppolicy.biz/wp-content/uploads/2011/04/image_thumb7.png)](<https://www.grouppolicy.biz/wp-content/uploads/2011/04/image7.png>) **Note:** In this example the source was "\\\demodc01\Wallpaper\backgroundDefault.jpg" and the destination was "%WindowsDir%\System32\oobe\info\backgrounds\backgroundDefault.jpg" **Tip #2:** As this policy is being run under the contest of the local System account you will need to make sure the location on the network where the file is being copied from has read access for the Domain Computers group. Now we need to enable the "OEMBackground" registry key so that windows will use the wallpaper file we just copied over the to the computer (see details below).

### OEMBackground

**Key:** HKLM\Software\Microsoft\Windows\CurrentVersion\Authentication\LogonUI\Background **Value:**  OEMBackground (REG_DWORD32) **Data:** 0 (Standard Wallpaper only, Default) **Data:** 1 (Custom Logon UI wallpaper enabled if possible) **Step 3:** Again, in the same GPO we need to enable the Logon UI Wallpaper and create a new [Registry Extension](<http://technet.microsoft.com/en-us/library/cc771589.aspx>) item.

### [![image](https://www.grouppolicy.biz/wp-content/uploads/2011/04/image_thumb8.png)](<https://www.grouppolicy.biz/wp-content/uploads/2011/04/image8.png>)

**Step 4 (Optional):** Configured the Description. **Tip #3:** This is not required but is always a good idea so that someone else looking at this policy can figured out what the policy does. [![image](https://www.grouppolicy.biz/wp-content/uploads/2011/04/image_thumb9.png)](<https://www.grouppolicy.biz/wp-content/uploads/2011/04/image10.png>) **Tip #4:** As this registry key already exists then I would NOT recommend using the  Done. Now when the user logs off or shutdown the computer they will have the new background image (see below). [![image](https://www.grouppolicy.biz/wp-content/uploads/2011/04/image_thumb10.png)](<https://www.grouppolicy.biz/wp-content/uploads/2011/04/image11.png>) What I really like about this method as opposed to doing it via a logon script is that the affect is immediate and if the user finds and changes the background image it will be reset back at the next policy refresh. This also means you can push out a new background image on a regular basis as all you have to do it update the source background image on the network and it will automatically propagate from there"... **Tip #5:**  If the background image is not working then make sure the file is less that 250kb in size as this is a built in restriction presumably to prevent slow down in loading very large image files. To resize the image I use [Paint .Net](<http://www.getpaint.net/>) which is a free image editing app that allows you to configure the compression ratio on JPG files. **Tip #6:** Remember that if you use only the "backgroundDefault.jpg" file then it will stretch and skew the photo to fit the resolution of the screen. See the [WithInWindows](<http://www.withinwindows.com/2009/03/15/windows-7-to-officially-support-logon-ui-background-customization/>) article for the other files names that are used for specific screen resolutions/ratios.